<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.scene.layout.*?>
<?import javafx.scene.control.Label?>
<?import com.jfoenix.controls.JFXTextField?>
<?import org.kordamp.ikonli.javafx.FontIcon?>
<?import javafx.geometry.Insets?>
<?import com.jfoenix.controls.JFXTextArea?>
<?import com.jfoenix.controls.JFXScrollPane?>

<?import javafx.scene.control.ScrollBar?><?import javafx.scene.control.ScrollPane?>
<StackPane xmlns="http://javafx.com/javafx/11" xmlns:fx="http://javafx.com/fxml/1" fx:controller="fr.mifa.client.gui.controllers.ChatController">
    <children>
        <GridPane maxHeight="Infinity" alignment="TOP_CENTER">
            <children>
                <StackPane GridPane.columnIndex="0" GridPane.vgrow="always" >
                    <padding>
                        <Insets top="10" left="10" right="10"/>
                    </padding>
                    <VBox spacing="30">
                        <HBox styleClass="icon-textfield-wrapper" spacing="20">
                            <JFXTextField styleClass="medium-textfield" fx:id="roomToAdd" promptText="Add a room" />
                            <FontIcon iconLiteral="fas-plus-square" styleClass="icon-button" iconSize="20" onMouseClicked="#addRoom" />
                        </HBox>
                        <VBox styleClass="room-list" fx:id="roomList">
                            <HBox styleClass="room" onMouseClicked="#changeRoom" userData="room-1">
                                <FontIcon iconLiteral="fas-users" iconSize="24" />
                                <Label>Room 1</Label>
                            </HBox>
                            <HBox styleClass="room" onMouseClicked="#changeRoom" userData="long-room-1">
                                <FontIcon iconLiteral="fas-users" iconSize="24" />
                                <Label>Long Room 1</Label>
                            </HBox>
                            <HBox styleClass="room" onMouseClicked="#changeRoom" userData="long-room-2">
                                <FontIcon iconLiteral="fas-users" iconSize="24" />
                                <Label>Long Room 2</Label>
                            </HBox>
                        </VBox>
                    </VBox>
                </StackPane>

                <GridPane GridPane.columnIndex="1" GridPane.vgrow="always"  style="-fx-background-color: white">
                    <padding>
                        <Insets left="100" right="100"/>
                    </padding>
                    <VBox GridPane.rowIndex="0" spacing="10">
                        <Label styleClass="title-1">Room 1</Label>
                        <ScrollPane maxHeight="Infinity" fitToWidth="true">
                            <content>
                                <VBox styleClass="messages-list" fx:id="messagesList">
                                </VBox>
                            </content>
                        </ScrollPane>
                    </VBox>
                    <StackPane GridPane.rowIndex="1" GridPane.hgrow="always">
                        <HBox alignment="CENTER" spacing="10">
                            <JFXTextArea fx:id="message" promptText="Say something..." labelFloat="true" maxHeight="50"></JFXTextArea>
                            <FontIcon onMouseClicked="#sendMessage" iconLiteral="far-paper-plane" iconSize="32" styleClass="icon-button" />
                        </HBox>
                    </StackPane>
                    <rowConstraints>
                        <RowConstraints vgrow="SOMETIMES" minHeight="10.0" percentHeight="85.0" prefHeight="100.0" />
                        <RowConstraints vgrow="SOMETIMES" minHeight="10.0" percentHeight="15.0" prefHeight="100.0" />
                    </rowConstraints>
                </GridPane>
            </children>
            <columnConstraints>
                <ColumnConstraints hgrow="SOMETIMES" minWidth="10.0" percentWidth="20.0" prefWidth="100.0" />
                <ColumnConstraints hgrow="SOMETIMES" minWidth="10.0" percentWidth="80.0" prefWidth="100.0" />
            </columnConstraints>
        </GridPane>
    </children>
</StackPane>
